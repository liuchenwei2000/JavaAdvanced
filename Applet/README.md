## applet 简介 ##

如果开发非常复杂的Java程序，应该考虑使用Web浏览器作为运行该程序的平台能否带来好处。
如果不是，可以只发布用户可以在本地机器运行的Java应用程序。同时还可以保持用Java开发带来的所有好处，如平台独立性、安全管理以及访问数据库及网络的方便性。

网络部署也有它的优势。对于用户来说，在Web上定位应用程序比在本地文件系统上定位应用程序要容易。
对于管理员来说，在Web服务器上维护和更新应用程序比在很多客户端上打补丁和升级系统要容易很多。

大多数成功的Java程序是基于公司内部网(intranet)的应用程序，它们和公司的信息系统进行交互。
这些程序相对来说较小，需要和数据库交互，其灵活性比Web表单更高并且可以根据公司的运作需求进行定制。
applet和Java Web Start机制是非常适用于这些程序的发布技术。因为用户数量一定，所以管理Java运行时的安装不是一个大问题。

### JNLP 与 Java Web Start
           
经过签名的applet功能强大，能够有效取代应用程序，不过它们只能在浏览器中运行，这就需要在客户机上运行浏览器，从而增加了额外的开销；
同时，它也限制了applet的用户界面，常常带来视觉上的混乱，因为Web浏览器有自己的菜单和工具条，它们会显示在applet的上方。

Java网络发布协议(JNLP, Java Network Launch Protocol)在不牺牲applet优点的前提下，解决了这个问题：
通过一个JNLP程序，你可以在客户机上下载和安装单机版的Java应用程序，可以通过命令行、桌面图标，
或者与你的JNLP实现一起安装的应用程序管理器来执行这个程序，应用程序甚至可以从其被下载的网站上运行。
一个JNLP应用程序可以在运行时从互联网上动态下载资源，并且能自动检查程序的版本，它能把  applet 的所有优点和应用程序的优点结合起来。

与applet类似，客户机系统也会小心对待JNLP应用程序的，JNLP程序是基于Web的，很容易下载，但它也可能是恶意程序。
有鉴于此，JNLP程序遵循与 applet 一样的沙盒安全限制。它们也能被部署到签名的JAR文件中，这能让用户选择是否信任签名人。
不同的是，如果它们被部署到未签名的JAR文件中，通过JNLP API提供的服务仍然能够请求访问客户系统上的资源（在程序运行期间，用户必须同意此请求）。

JNLP描述的是一个协议，而不是实现，所以要使用JNLP，你需要它的一个实现：Java Web Start，是由Sun免费提供的官方参考实现。
你要做的就是下载并安装它，如果把它用于开发，那么你就要确保它的JAR文件处于classpath路径中。
如果从Web服务器上部署你的JNLP应用程序，必须确保服务器能够识别MIME类型application/x-java-jnlp-file。
创建一个JNLP应用程序并不困难，你要先编写一个标准应用程序，然后把它打包到一个JAR文件中。
这时，你需要提供一个启动文件，它是一个简单的XML文件，用来告诉客户下载和安装这个程序所需的所有信息。
如果你不准备为JAR文件签名，那么对于你将要在客户机上访问的每种类型的资源，必须使用JNLP API提供的服务进行访问。

Java Web Start 是一项新的技术，目的在于改善用户通过Internet发布的Java程序的经验。
Java Web Start 用于发布普通的Java应用程序，这些应用程序将通过调用类中的main方法开始运行，并且不需要继承Applet类。
应用程序不存在于浏览器中，它是在浏览器之外显示的。

### 浏览器执行 Applet 时的细节
    
    <applet code = "Applet.class" width = "100" height = "100">

当浏览器读到这一行时，会创建一个与Web服务器的连接，并获取Applet.class文件。浏览器中虚拟机的类加载器(Class Loader)会从该文件中加载Applet类。
在加载过程中类加载器必须分析该类所需要用到的其他类，分析之后便知道需要多少类来运行该 applet。浏览器就会与Web服务器建立其他的连接，来获取每一个类文件。
在速度较慢的网络连接上加载这样一个applet会需要几分钟。这并不是因为它们的大小（这些文件都很小），而是因为和 Web 服务器建立连接所花费的时间较长。

Java支持一种改进的方法来加载类文件，它允许把需要的所有类文件打包成一个文件，然后向服务器发出一个HTTP请求，就可以下载该文件。
存档 Java 类文件的文件称为 Java 存档文件(JAR)。JAR文件可以包含类文件和其它类型的文件，如图像和音频文件。
JAR文件是压缩的，使用的是ZIP压缩格式，这样有助于减少下载时间。有了JAR文件，需要在applet标记中引用它，如：
    
    <applet code = "Applet.class" archive = "Applet.jar" width = "100" height = "100">
    
code 属性告诉浏览器 applet 的名字，archive 属性仅仅指明 applet 和其他文件可能存放的地点，
当需要类、图像或者声音文件的时候，浏览器首先在 archive 属性指定的JAR文件中寻找，当文件不存在于JAR中时才会到Web服务器上获取。

在Java中，像图像和声音文件、带有消息字符串和按钮标签的文本文件、二进制数据文件，这些关联的文件成为资源(resource)。
